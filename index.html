<!DOCTYPE HTML>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>An imageless and responsive "Fork me on GitHub" ribbon</title>
  <style id="ribbon">
    #forkongithub a{background:#000;color:#fff;text-decoration:none;font-family:arial, sans-serif;text-align:center;font-weight:bold;padding:5px 40px;font-size:1rem;line-height:2rem;position:relative;transition:0.5s;}#forkongithub a:hover{background:#060;color:#fff;}#forkongithub a::before,#forkongithub a::after{content:"";width:100%;display:block;position:absolute;top:1px;left:0;height:1px;background:#fff;}#forkongithub a::after{bottom:1px;top:auto;}@media screen and (min-width:800px){#forkongithub{position:fixed;display:block;top:0;right:0;width:200px;overflow:hidden;height:200px;z-index:9999;}#forkongithub a{width:200px;position:absolute;top:60px;right:-60px;transform:rotate(45deg);-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);-moz-transform:rotate(45deg);-o-transform:rotate(45deg);box-shadow:4px 4px 10px rgba(0,0,0,0.8);}}
  </style>
  <style>
    body {
      width: 650px;
      font-family: "open sans", Arial, Helvetica, sans-serif;
      margin: 10px auto;
    }
    a {
      color: #060;
    }
    h1 {
      font-size: 1.5rem;
    }
    h2 {
      font-size: 1.2rem;
    }
    label,
    .field {
      font-weight: bold;
      margin-bottom: 12px;
      display: block;
      clear: both;
    }
    .group > label {
      display: inline-block;
      margin-right: 20px;
    }
    input[type=text],
    .group,
    textarea {
      width: 400px;
      float: right;
    }
    textarea {
      height: 200px;
      resize: vertical;
    }
    footer {
      font-size: 0.8rem;
      text-align: center;
      margin-top: 3rem;
      margin-bottom: 1rem;
      border-top: 1px solid #000;
    }
  </style>
  <style type="text/css-template" id="ribbon-tpl">
    #forkongithub a {
      background: __bg__;
      color: __colour__;
      text-decoration: none;
      font-family: arial, sans-serif;
      text-align: center;
      font-weight: bold;
      padding: 5px 40px;
      font-size: 1rem;
      line-height: 2rem;
      position: relative;
      transition: 0.5s;
    }
    #forkongithub a:hover {
      background: __hoverbackground__;
      color: __hovercolour__;
    }
    #forkongithub a::before,
    #forkongithub a::after {
      content: "";
      width: 100%;
      display: block;
      position: absolute;
      top: 1px;
      left: 0;
      height: 1px;
      background: __linescolour__;
    }
    #forkongithub a::after {
      bottom: 1px;
      top: auto;
    }
    @media screen and (min-width: __breakpoint__) {
      #forkongithub {
        position: __position__;
        display: block;
        top: 0;
        __alignment__: 0;
        width: 200px;
        overflow: hidden;
        height: 200px;
        z-index: 9999;
      }
      #forkongithub a {
        width: 200px;
        position: absolute;
        top: 60px;
        __rotation__;
        box-shadow: __shadowdef__;
      }
    }
  </style>
</head>
<body>
  <span id="forkongithub">
    <a href="#">Fork me on GitHub</a>
  </span>
  <h1>An imageless and responsive "Fork me on GitHub" ribbon</h1>
  <p>The "Fork me on GitHub" <a href="https://github.com/blog/273-github-ribbons">ribbons supplied by GitHub</a> are cute but they have a few issues: they mean having to load an extra image and they overlap the content of the page on smaller screens.</p>
  <p>Instead of using an image it is totally fine to use CSS for the same purpose. This is an example of a imageless ribbon that falls back to an inline link when there is not enough space. If you see this on a screen less than 800 pixels there should be a link above, if you have a wider screen the ribbon should be up in the corner.</p>
  <h2>Customise your ribbon</h2>
  <form action="#">
    <p>Simply change the settings in the following form to your needs. Going to the next field applies the changes which you can see live here. When you are happy with your choices simply copy and paste the code.</p>
    <label>GitHub URL:
      <input type="text" id="url" value="https://github.com/codepo8/css-fork-on-github-ribbon">
    </label>
    <label>Ribbon Colour:
      <input type="text" id="ribboncolour" value="#000">
    </label>
    <label>Ribbon Hover Colour:
      <input type="text" id="ribbonhovercolour" value="#060">
    </label>
    <label>Text Colour:
      <input type="text" id="textcolour" value="#fff">
    </label>
    <label>Text Hover Colour:
      <input type="text" id="texthovercolour" value="#fff">
    </label>
    <label>Lines Colour:
      <input type="text" id="linescolour" value="#fff">
    </label>
    <label>Shadow:
      <input type="text" id="shadowdef" value="4px 4px 10px rgba(0,0,0,0.8)">
    </label>
    <label>Responsive Breakpoint:
      <input type="text" id="responsivebreakpoint" value="800px">
    </label>
    <div class="field">Alignment:
      <div class="group">
        <label><input type="radio" name="alignment" value="left">left</label>
        <label><input type="radio" name="alignment" value="right">right</label>
      </div>
    </div>
    <div class="field">Vertical Position:
      <div class="group">
        <label><input type="radio" name="position" value="absolute">top</label>
        <label><input type="radio" name="position" value="fixed">sticky</label>
      </div>
    </div>
    <label>Code:
      <textarea id="code"></textarea>
    </label>
  </form>
  <div style="clear: both"></div>
  <footer>
    <p>Written by <a href="http://christianheilmann.com">Chris Heilmann</a> - <a href="http://twitter.com/codepo8">@codepo8</a></p>
  </footer>
  <script>
    var form = document.forms[0],
        background = document.querySelector('#ribboncolour'),
        colour = document.querySelector('#textcolour'),
        url = document.querySelector('#url'),
        hovercolour = document.querySelector('#texthovercolour'),
        hoverbackground = document.querySelector('#ribbonhovercolour'),
        code = document.querySelector('#code'),
        linescolour = document.querySelector('#linescolour'),
        shadowdef = document.querySelector('#shadowdef'),
        breakpoint = document.querySelector('#responsivebreakpoint'),
            ribbon = document.querySelector('#ribbon'),
            styles = document.querySelector('#ribbon-tpl').innerHTML
                .replace(/: +/g, ':')
                .replace(/\s*\{/g, '{')
                .replace(/\n\s*/g, '');

    form.addEventListener('change', function() {
      s = styles.replace(/__bg__/g, background.value);
      s = s.replace(/__colour__/g, colour.value);
      s = s.replace(/__hovercolour__/g, hovercolour.value);
      s = s.replace(/__linescolour__/g, linescolour.value);
      s = s.replace(/__hoverbackground__/g, hoverbackground.value);
      s = s.replace(/__shadowdef__/g, shadowdef.value);
      s = s.replace(/__breakpoint__/g, breakpoint.value);
      s = s.replace(/__position__/, form.elements.position[0].checked ? 'absolute' : 'fixed');
      if (form.elements.alignment[0].checked) {
        s = s.replace(/__alignment__/, 'left');
        s = s.replace(/__rotation__/, 'left:-60px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg);-ms-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-o-transform:rotate(-45deg)');
      } else {
        s = s.replace(/__alignment__/, 'right');
        s = s.replace(/__rotation__/, 'right:-60px;transform:rotate(45deg);-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);-moz-transform:rotate(45deg);-o-transform:rotate(45deg)');
      }
      code.value = '<style>' + s + '</style><span id="forkongithub"><a href="' + url.value + '">Fork me on GitHub</a></span>';
      ribbon.innerHTML = s;
    }, false);
  </script>
</body>
</html>